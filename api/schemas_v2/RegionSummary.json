{
  "title": "RegionSummary",
  "description": "Summary of actual and prediction data for a single region.",
  "type": "object",
  "properties": {
    "fips": {
      "title": "Fips",
      "description": "Fips Code.  For state level data, 2 characters, for county level data, 5 characters.",
      "type": "string"
    },
    "country": {
      "title": "Country",
      "description": "2-letter ISO-3166 Country code.",
      "type": "string"
    },
    "state": {
      "title": "State",
      "description": "2-letter ANSI state code.",
      "type": "string"
    },
    "county": {
      "anyOf": [
        {
          "type": "null"
        },
        {
          "type": "string"
        }
      ]
    },
    "level": {
      "$ref": "#/definitions/AggregationLevel"
    },
    "lat": {
      "anyOf": [
        {
          "type": "null"
        },
        {
          "type": "number"
        }
      ]
    },
    "long": {
      "anyOf": [
        {
          "type": "null"
        },
        {
          "type": "number"
        }
      ]
    },
    "population": {
      "title": "Population",
      "description": "Total Population in geographic region.",
      "exclusiveMinimum": 0,
      "type": "integer"
    },
    "metrics": {
      "$ref": "#/definitions/Metrics"
    },
    "actuals": {
      "$ref": "#/definitions/Actuals"
    },
    "lastUpdatedDate": {
      "title": "Lastupdateddate",
      "description": "Date of latest data",
      "type": "string",
      "format": "date"
    }
  },
  "required": [
    "fips",
    "country",
    "state",
    "county",
    "level",
    "lat",
    "long",
    "population",
    "metrics",
    "actuals",
    "lastUpdatedDate"
  ],
  "definitions": {
    "AggregationLevel": {
      "title": "AggregationLevel",
      "description": "An enumeration.",
      "enum": [
        "country",
        "state",
        "county"
      ]
    },
    "CovidPatientsMethod": {
      "title": "CovidPatientsMethod",
      "description": "Method used to determine number of current ICU patients with covid.",
      "enum": [
        "actual",
        "estimated"
      ]
    },
    "NonCovidPatientsMethod": {
      "title": "NonCovidPatientsMethod",
      "description": "Method used to determine number of current ICU patients without covid.",
      "enum": [
        "actual",
        "estimated_from_typical_utilization",
        "estimated_from_total_icu_actual"
      ]
    },
    "ICUHeadroomMetricDetails": {
      "title": "ICUHeadroomMetricDetails",
      "description": "Details about how the ICU Headroom Metric was calculated.",
      "type": "object",
      "properties": {
        "currentIcuCovid": {
          "title": "Currenticucovid",
          "description": "Current number of covid patients in icu.",
          "type": "integer"
        },
        "currentIcuCovidMethod": {
          "$ref": "#/definitions/CovidPatientsMethod"
        },
        "currentIcuNonCovid": {
          "title": "Currenticunoncovid",
          "description": "Current number of covid patients in icu.",
          "type": "integer"
        },
        "currentIcuNonCovidMethod": {
          "$ref": "#/definitions/NonCovidPatientsMethod"
        }
      },
      "required": [
        "currentIcuCovid",
        "currentIcuCovidMethod",
        "currentIcuNonCovid",
        "currentIcuNonCovidMethod"
      ]
    },
    "Metrics": {
      "title": "Metrics",
      "description": "Calculated metrics data based on known actuals.",
      "type": "object",
      "properties": {
        "testPositivityRatio": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        },
        "caseDensity": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        },
        "contactTracerCapacityRatio": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        },
        "infectionRate": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        },
        "infectionRateCI90": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        },
        "icuHeadroomRatio": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        },
        "icuHeadroomDetails": {
          "$ref": "#/definitions/ICUHeadroomMetricDetails"
        }
      },
      "required": [
        "testPositivityRatio",
        "caseDensity",
        "contactTracerCapacityRatio",
        "infectionRate",
        "infectionRateCI90",
        "icuHeadroomRatio",
        "icuHeadroomDetails"
      ]
    },
    "HospitalResourceUtilization": {
      "title": "HospitalResourceUtilization",
      "description": "Base model for API output.",
      "type": "object",
      "properties": {
        "capacity": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "currentUsageTotal": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "currentUsageCovid": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "typicalUsageRate": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "number"
            }
          ]
        }
      },
      "required": [
        "capacity",
        "currentUsageTotal",
        "currentUsageCovid",
        "typicalUsageRate"
      ]
    },
    "Actuals": {
      "title": "Actuals",
      "description": "Known actuals data.",
      "type": "object",
      "properties": {
        "cases": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "deaths": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "positiveTests": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "negativeTests": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "contactTracers": {
          "anyOf": [
            {
              "type": "null"
            },
            {
              "type": "integer"
            }
          ]
        },
        "hospitalBeds": {
          "title": "Hospitalbeds",
          "description": "Information about hospital bed utilization",
          "allOf": [
            {
              "$ref": "#/definitions/HospitalResourceUtilization"
            }
          ]
        },
        "icuBeds": {
          "title": "Icubeds",
          "description": "Information about ICU bed utilization",
          "allOf": [
            {
              "$ref": "#/definitions/HospitalResourceUtilization"
            }
          ]
        }
      },
      "required": [
        "cases",
        "deaths",
        "positiveTests",
        "negativeTests",
        "contactTracers",
        "hospitalBeds",
        "icuBeds"
      ]
    }
  }
}