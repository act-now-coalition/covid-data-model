{
  "title": "AggregateRegionSummaryWithTimeseries",
  "description": "Timeseries and summary data for multiple regions.",
  "type": "array",
  "items": {
    "$ref": "#/definitions/RegionSummaryWithTimeseries"
  },
  "definitions": {
    "AggregationLevel": {
      "title": "AggregationLevel",
      "description": "An enumeration.",
      "enum": [
        "country",
        "state",
        "county"
      ]
    },
    "CovidPatientsMethod": {
      "title": "CovidPatientsMethod",
      "description": "Method used to determine number of current ICU patients with covid.",
      "enum": [
        "actual",
        "estimated"
      ]
    },
    "NonCovidPatientsMethod": {
      "title": "NonCovidPatientsMethod",
      "description": "Method used to determine number of current ICU patients without covid.",
      "enum": [
        "actual",
        "estimated_from_typical_utilization",
        "estimated_from_total_icu_actual"
      ]
    },
    "ICUHeadroomMetricDetails": {
      "title": "ICUHeadroomMetricDetails",
      "description": "Details about how the ICU Headroom Metric was calculated.",
      "type": "object",
      "properties": {
        "currentIcuCovid": {
          "title": "Currenticucovid",
          "description": "Current number of covid patients in icu.",
          "type": "integer"
        },
        "currentIcuCovidMethod": {
          "$ref": "#/definitions/CovidPatientsMethod"
        },
        "currentIcuNonCovid": {
          "title": "Currenticunoncovid",
          "description": "Current number of covid patients in icu.",
          "type": "integer"
        },
        "currentIcuNonCovidMethod": {
          "$ref": "#/definitions/NonCovidPatientsMethod"
        }
      },
      "required": [
        "currentIcuCovid",
        "currentIcuCovidMethod",
        "currentIcuNonCovid",
        "currentIcuNonCovidMethod"
      ]
    },
    "Metrics": {
      "title": "Metrics",
      "description": "Calculated metrics data based on known actuals.",
      "type": "object",
      "properties": {
        "testPositivityRatio": {
          "title": "Testpositivityratio",
          "description": "Ratio of people who test positive calculated using a 7-day rolling average.",
          "type": "number"
        },
        "caseDensity": {
          "title": "Casedensity",
          "description": "The number of cases per 100k population calculated using a 7-day rolling average.",
          "type": "number"
        },
        "contactTracerCapacityRatio": {
          "title": "Contacttracercapacityratio",
          "description": "Ratio of currently hired tracers to estimated tracers needed based on 7-day daily case average.",
          "type": "number"
        },
        "infectionRate": {
          "title": "Infectionrate",
          "description": "R_t, or the estimated number of infections arising from a typical case.",
          "type": "number"
        },
        "infectionRateCI90": {
          "title": "Infectionrateci90",
          "description": "90th percentile confidence interval upper endpoint of the infection rate.",
          "type": "number"
        },
        "icuHeadroomRatio": {
          "title": "Icuheadroomratio",
          "type": "number"
        },
        "icuHeadroomDetails": {
          "$ref": "#/definitions/ICUHeadroomMetricDetails"
        }
      },
      "required": [
        "testPositivityRatio",
        "caseDensity",
        "contactTracerCapacityRatio",
        "infectionRate",
        "infectionRateCI90",
        "icuHeadroomRatio",
        "icuHeadroomDetails"
      ]
    },
    "HospitalResourceUtilization": {
      "title": "HospitalResourceUtilization",
      "description": "Base model for API output.",
      "type": "object",
      "properties": {
        "capacity": {
          "title": "Capacity",
          "description": "Total capacity for resource.",
          "type": "integer"
        },
        "currentUsageTotal": {
          "title": "Currentusagetotal",
          "description": "Currently used capacity for resource by all patients (COVID + Non-COVID)",
          "type": "integer"
        },
        "currentUsageCovid": {
          "title": "Currentusagecovid",
          "description": "Currently used capacity for resource by COVID ",
          "type": "integer"
        },
        "typicalUsageRate": {
          "title": "Typicalusagerate",
          "description": "Typical used capacity rate for resource. This excludes any COVID usage.",
          "type": "number"
        }
      },
      "required": [
        "capacity",
        "currentUsageTotal",
        "currentUsageCovid",
        "typicalUsageRate"
      ]
    },
    "Actuals": {
      "title": "Actuals",
      "description": "Known actuals data.",
      "type": "object",
      "properties": {
        "cases": {
          "title": "Cases",
          "description": "Cumulative number of confirmed or suspected cases",
          "type": "integer"
        },
        "deaths": {
          "title": "Deaths",
          "description": "Cumulative number of deaths that are suspected or confirmed to have been caused by COVID-19",
          "type": "integer"
        },
        "positiveTests": {
          "title": "Positivetests",
          "description": "Cumulative positive test results to date",
          "type": "integer"
        },
        "negativeTests": {
          "title": "Negativetests",
          "description": "Cumulative negative test results to date",
          "type": "integer"
        },
        "contactTracers": {
          "title": "Contacttracers",
          "description": "Number of Contact Tracers",
          "type": "integer"
        },
        "hospitalBeds": {
          "title": "Hospitalbeds",
          "description": "Information about hospital bed utilization",
          "allOf": [
            {
              "$ref": "#/definitions/HospitalResourceUtilization"
            }
          ]
        },
        "icuBeds": {
          "title": "Icubeds",
          "description": "Information about ICU bed utilization",
          "allOf": [
            {
              "$ref": "#/definitions/HospitalResourceUtilization"
            }
          ]
        }
      },
      "required": [
        "cases",
        "deaths",
        "positiveTests",
        "negativeTests",
        "contactTracers",
        "hospitalBeds",
        "icuBeds"
      ]
    },
    "MetricsTimeseriesRow": {
      "title": "MetricsTimeseriesRow",
      "description": "Metrics data for a specific day.",
      "type": "object",
      "properties": {
        "testPositivityRatio": {
          "title": "Testpositivityratio",
          "description": "Ratio of people who test positive calculated using a 7-day rolling average.",
          "type": "number"
        },
        "caseDensity": {
          "title": "Casedensity",
          "description": "The number of cases per 100k population calculated using a 7-day rolling average.",
          "type": "number"
        },
        "contactTracerCapacityRatio": {
          "title": "Contacttracercapacityratio",
          "description": "Ratio of currently hired tracers to estimated tracers needed based on 7-day daily case average.",
          "type": "number"
        },
        "infectionRate": {
          "title": "Infectionrate",
          "description": "R_t, or the estimated number of infections arising from a typical case.",
          "type": "number"
        },
        "infectionRateCI90": {
          "title": "Infectionrateci90",
          "description": "90th percentile confidence interval upper endpoint of the infection rate.",
          "type": "number"
        },
        "icuHeadroomRatio": {
          "title": "Icuheadroomratio",
          "type": "number"
        },
        "icuHeadroomDetails": {
          "$ref": "#/definitions/ICUHeadroomMetricDetails"
        },
        "date": {
          "title": "Date",
          "description": "Date of timeseries data point",
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "testPositivityRatio",
        "caseDensity",
        "contactTracerCapacityRatio",
        "infectionRate",
        "infectionRateCI90",
        "icuHeadroomRatio",
        "icuHeadroomDetails",
        "date"
      ]
    },
    "ActualsTimeseriesRow": {
      "title": "ActualsTimeseriesRow",
      "description": "Actual data for a specific day.",
      "type": "object",
      "properties": {
        "cases": {
          "title": "Cases",
          "description": "Cumulative number of confirmed or suspected cases",
          "type": "integer"
        },
        "deaths": {
          "title": "Deaths",
          "description": "Cumulative number of deaths that are suspected or confirmed to have been caused by COVID-19",
          "type": "integer"
        },
        "positiveTests": {
          "title": "Positivetests",
          "description": "Cumulative positive test results to date",
          "type": "integer"
        },
        "negativeTests": {
          "title": "Negativetests",
          "description": "Cumulative negative test results to date",
          "type": "integer"
        },
        "contactTracers": {
          "title": "Contacttracers",
          "description": "Number of Contact Tracers",
          "type": "integer"
        },
        "hospitalBeds": {
          "title": "Hospitalbeds",
          "description": "Information about hospital bed utilization",
          "allOf": [
            {
              "$ref": "#/definitions/HospitalResourceUtilization"
            }
          ]
        },
        "icuBeds": {
          "title": "Icubeds",
          "description": "Information about ICU bed utilization",
          "allOf": [
            {
              "$ref": "#/definitions/HospitalResourceUtilization"
            }
          ]
        },
        "date": {
          "title": "Date",
          "description": "Date of timeseries data point",
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "cases",
        "deaths",
        "positiveTests",
        "negativeTests",
        "contactTracers",
        "hospitalBeds",
        "icuBeds",
        "date"
      ]
    },
    "RegionSummaryWithTimeseries": {
      "title": "RegionSummaryWithTimeseries",
      "description": "Summary data for a region with prediction timeseries data and actual timeseries data.",
      "type": "object",
      "properties": {
        "fips": {
          "title": "Fips",
          "description": "Fips Code.  For state level data, 2 characters, for county level data, 5 characters.",
          "type": "string"
        },
        "country": {
          "title": "Country",
          "description": "2-letter ISO-3166 Country code.",
          "type": "string"
        },
        "state": {
          "title": "State",
          "description": "2-letter ANSI state code.",
          "type": "string"
        },
        "county": {
          "title": "County",
          "description": "County name",
          "type": "string"
        },
        "level": {
          "$ref": "#/definitions/AggregationLevel"
        },
        "lat": {
          "title": "Lat",
          "description": "Latitude of point within the state or county",
          "type": "number"
        },
        "long": {
          "title": "Long",
          "description": "Longitude of point within the state or county",
          "type": "number"
        },
        "population": {
          "title": "Population",
          "description": "Total Population in geographic region.",
          "exclusiveMinimum": 0,
          "type": "integer"
        },
        "metrics": {
          "$ref": "#/definitions/Metrics"
        },
        "actuals": {
          "$ref": "#/definitions/Actuals"
        },
        "lastUpdatedDate": {
          "title": "Lastupdateddate",
          "description": "Date of latest data",
          "type": "string",
          "format": "date"
        },
        "metricsTimeseries": {
          "title": "Metricstimeseries",
          "type": "array",
          "items": {
            "$ref": "#/definitions/MetricsTimeseriesRow"
          }
        },
        "actualsTimeseries": {
          "title": "Actualstimeseries",
          "type": "array",
          "items": {
            "$ref": "#/definitions/ActualsTimeseriesRow"
          }
        }
      },
      "required": [
        "fips",
        "country",
        "state",
        "county",
        "level",
        "lat",
        "long",
        "population",
        "metrics",
        "actuals",
        "lastUpdatedDate",
        "actualsTimeseries"
      ]
    }
  }
}